Функция ПолучитьКартинкуПриоритетаБольшая(Приоритет) Экспорт

	Запрос = Новый Запрос;
	
	Запрос = ПолучитьЗапрос(, Ложь);
	
	Запрос.УстановитьПараметр("Приоритет", Приоритет);
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Пока Выборка.Следующий() Цикл
		Возврат Выборка.Картинка;	
	КонецЦикла;
	
	Возврат Неопределено;
	
КонецФункции 

Функция ПолучитьЗапрос(БольшаяКартинка = Истина, МалаяКартинка = Истина)

	ЗапросТекст = 
		"ВЫБРАТЬ
		|	Приоритеты.БольшаяКартинка КАК Картинка
		|ИЗ
		|	Справочник.Приоритеты КАК Приоритеты
		|ГДЕ
		|	Приоритеты.Ссылка = &Приоритет";
	
	Если БольшаяКартинка И НЕ МалаяКартинка Тогда
	
		Возврат ЗапросТекст;	
	
	ИначеЕсли БольшаяКартинка И НЕ МалаяКартинка Тогда
	
		Возврат СтрЗаменить(ЗапросТекст, 
		"Приоритеты.БольшаяКартинка КАК Картинка", "Приоритеты.БольшаяКартинка КАК БольшаяКартинка,	Приоритеты.МалаяКартинка КАК МалаяКартинка");
	
	Иначе
	
		Возврат СтрЗаменить(ЗапросТекст, 
		"БольшаяКартинка", "МалаяКартинка");
	
	КонецЕсли;

КонецФункции // ПолучитьЗапрос()

