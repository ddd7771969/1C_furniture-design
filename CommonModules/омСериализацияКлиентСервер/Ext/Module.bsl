Функция СериализоватьВJSON(Значение) Экспорт
	
	Настройки = Новый НастройкиСериализацииJSON();
	Настройки.ФорматСериализацииДаты = ФорматДатыJSON.ISO;
	Настройки.ВариантЗаписиДаты = ВариантЗаписиДатыJSON.ЛокальнаяДата;
	
	ЗаписьJSON = Новый ЗаписьJSON;
	ЗаписьJSON.УстановитьСтроку();
	ЗаписатьJSON(ЗаписьJSON, Значение, Настройки);
	СтрокаJSON = ЗаписьJSON.Закрыть();
	
	Возврат СтрокаJSON;
	
КонецФункции

Функция СериализоватьВJSONXDTO(Значение, ДанныеСсылка = Истина) Экспорт
        
    ЗаписьJSON = Новый ЗаписьJSON;
    ЗаписьJSON.УстановитьСтроку(Новый ПараметрыЗаписиJSON(, Символы.Таб));
	
	Если ДанныеСсылка Тогда
		СериализаторXDTO.ЗаписатьJSON(ЗаписьJSON, Значение, НазначениеТипаXML.Явное); // сериализуется только ссылка
	Иначе
		СериализаторXDTO.ЗаписатьJSON(ЗаписьJSON, Значение.ПолучитьОбъект(), НазначениеТипаXML.Явное);
	КонецЕсли;
	
    СтрокаJSON = ЗаписьJSON.Закрыть();
    
    Возврат СтрокаJSON;
    
КонецФункции 

Функция ДесериализоватьИзJSON(СтрокаJSON, ПоляДата = "") Экспорт
    
    ЧтениеJSON = Новый ЧтениеJSON;
    ЧтениеJSON.УстановитьСтроку(СтрокаJSON);
    Значение = ПрочитатьJSON(ЧтениеJSON,, ПоляДата, ФорматДатыJSON.ISO);          
    ЧтениеJSON.Закрыть();
    Возврат Значение;
    
КонецФункции

Функция ДесериализоватьИзJSONXDTO(СтрокаJSON) Экспорт
    
    ЧтениеJSON = Новый ЧтениеJSON;
    ЧтениеJSON.УстановитьСтроку(СтрокаJSON);
    ЗначениеОбъект = СериализаторXDTO.ПрочитатьJSON(ЧтениеJSON);
    ЧтениеJSON.Закрыть();
    
	Возврат  ЗначениеОбъект;
    
КонецФункции    