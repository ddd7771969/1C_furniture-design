
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если НЕ ЗначениеЗаполнено(Объект.ИдентификаторРаздела) Тогда
	
		Запрос = Новый Запрос;
		Запрос.Текст = "ВЫБРАТЬ
		|	Б24_КС_ПользовательскиеГруппыТоваров.ИдентификаторРаздела
		|ИЗ
		|	Справочник.Б24_КС_ПользовательскиеГруппыТоваров КАК Б24_КС_ПользовательскиеГруппыТоваров";
		
		мИдентификаторовРазделов =   Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("ИдентификаторРаздела");
		
		ИдентификаторСовпадает = Истина;
		
		Пока ИдентификаторСовпадает Цикл
			
			лУникальныйИдентификатор = Новый УникальныйИдентификатор;
			лИдентификатор = Строка(лУникальныйИдентификатор);
			
			Если мИдентификаторовРазделов.Найти(лИдентификатор) = Неопределено Тогда
				ИдентификаторСовпадает = Ложь;	
			КонецЕсли;
			
		КонецЦикла;
		
		Объект.ИдентификаторРаздела = лИдентификатор;
		
	КонецЕсли;

КонецПроцедуры

#КонецОбласти

